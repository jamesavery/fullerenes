link_libraries(fortran_opt fullerenes cuda_lib)

if(CMAKE_CUDA_COMPILER)
  add_executable(async-execution-test async-execution-test.cc)
  add_executable(generate-x0 generate-x0.cc)
  add_executable(generate-xopt generate-xopt.cc)
  add_executable(copy-test copy-test.cc)
  add_executable(validity-test validity-test.cc)
  add_executable(race-test race-test.cc)
  add_executable(dual-test dual-test.cc)
  add_executable(tutte-test tutte-test.cc)
  add_executable(tutte-test-random tutte-test-random.cc)
  add_executable(X0-test X0-test.cc)
  add_executable(X0-test-random X0-test-random.cc)
  add_executable(refill-race-test refill-race-test.cc)
  add_executable(scan-test scan-test.cc)
  add_executable(async-pipeline-test async-pipeline-test.cc)
  add_executable(eigen-test eigen-test.cc)
  target_link_libraries(refill-race-test fullerenes)
  target_link_libraries(scan-test cuda_lib fullerenes)
  target_link_libraries(async-pipeline-test cuda_lib fullerenes)
  target_link_libraries(eigen-test cuda_lib fullerenes)

endif()
